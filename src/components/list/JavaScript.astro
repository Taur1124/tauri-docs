---
import { LinkCard, CardGrid } from '@astrojs/starlight/components';
import { type CollectionEntry, getEntry } from 'astro:content';

const base = '2/reference/js';

const entries = [
	'core',
	'authenticator',
	'autostart',
	'barcode-scanner',
	'cli',
	'clipboard-manager',
	'deep-link',
	'dialog',
	'fs',
	'global-shortcut',
	'http',
	'log',
	'notification',
	'os',
	'positioner',
	'process',
	'shell',
	'sql',
	'store',
	'stronghold',
	'updater',
	'upload',
	'websocket',
	'window-state',
];

const list = (await Promise.all(
	entries.flatMap((entry) => getEntry('docs', `${base}/${entry}`))
)) as CollectionEntry<'docs'>[];
---

<CardGrid>
	{
		list
			.sort((a, b) => a.data.title.localeCompare(b.data.title))
			.map((item) => (
				<LinkCard
					title={item.data.title}
					href={`/${item.slug}`}
					description={item.data.description}
				/>
			))
	}
</CardGrid>
