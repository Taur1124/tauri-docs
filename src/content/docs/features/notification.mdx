---
title: Notifications
description: Send native notifications to the user.
i18nReady: true
---

import PluginLinks from '@components/PluginLinks.astro';
import { Tabs, TabItem, Steps } from '@astrojs/starlight/components';
import CommandTabs from '@components/CommandTabs.astro';
import Stub from '@components/Stub.astro';

<PluginLinks plugin="notification" />

Send native notifications to your user using the notification plugin.

## Setup

Install the notifications plugin to get started.

<Tabs>
    <TabItem label="Automatic">

    Use your project's package manager to add the dependency:

    <CommandTabs npm="npm run tauri add notification"
    yarn="yarn run tauri add notification"
    pnpm="pnpm tauri add notification"
    cargo="cargo tauri add notification" />

    </TabItem>
    <TabItem label="Manual">
    <Steps> 
    <ol>
        <li>
        Run `cargo add tauri-plugin-notification` to add the plugin to the project's dependencies in `Cargo.toml`.
        </li>
        <li>
        Modify `lib.rs` to initialize the plugin:
        ```rust title="src-tauri/src/lib.rs" ins={4}
        pub fn run() {
            tauri::Builder::default()
                // Initialize the plugin
                .plugin(tauri_plugin_notification::init())
                .run(tauri::generate_context!())
                .expect("error while running tauri application");
        }
        ```
        </li>
        <li>
        If you'd like to use notifications in JavaScript then install the npm package as well:

        <CommandTabs
            npm="npm install @tauri-apps/plugin-notification"
            yarn="yarn add @tauri-apps/plugin-notification"
            pnpm="pnpm add @tauri-apps/plugin-notification"
        />
        </li>
    </ol>
    </Steps>
    </TabItem>

</Tabs>

### Requesting Permission

To send notifications to the user, appropriate permissions must be obtained beforehand.

<Steps>
<ol>
    <li>
    Check if permission is granted
    <Tabs>
        <TabItem label="Rust">
        ```rust {1} {6}
        use tauri_plugin_notification::NotificationExt;

        #[tauri::command]
        fn send_notification(app_handle: tauri::AppHandle) {
            // Do you have permission to send a notification?
            let mut state = app_handle.notification().permission_state().unwrap();
        }
        ```
        </TabItem>
        <TabItem label="JavaScript">
        ```js
        import isPermissionGranted from '@tauri-apps/plugin-notification';

        // Do you have permission to send a notification?
        let permissionGranted = await isPermissionGranted();
        ```
        </TabItem>
    </Tabs>
    </li>

    <li>
    Request permission if not granted
    <Tabs>
        <TabItem label="Rust">
        ```rust {2} {10-12}
        use tauri_plugin_notification::NotificationExt;
        use tauri_plugin_notification::PermissionState;

        #[tauri::command]
        fn send_notification(app_handle: tauri::AppHandle) {
            // Do you have permission to send a notification?
            let mut state = app_handle.notification().permission_state().unwrap();
            
            // If permissions are not already granted, we will need to request them.
            if state != PermissionState::Granted {
                state = app_handle.notification().request_permission().unwrap();
            }
        }
        ```
        </TabItem>
        <TabItem label="JavaScript">
        ```js {3} {10-13}
        import {
        isPermissionGranted,
        requestPermission,
        } from '@tauri-apps/plugin-notification';

        // Do you have permission to send a notification?
        let permissionGranted = await isPermissionGranted();

        // If permissions are not already granted, we will need to request them.
        if (!permissionGranted) {
        const permission = await requestPermission();
        permissionGranted = permission === 'granted';
        }
        ```
        </TabItem>
    </Tabs>
    </li>
</ol>
</Steps>

## Usage

Here are a few examples of how to use the notification plugin:

- [Send notification to users](#send-notification)
- [Add an action to a notification](#actions)
- [Add an attachment to a notification](#attachments)
- [Send a notification in a specific channel](#channels)

{/* TODO: Link to which language to use, frontend vs. backend guide when it's made */}

The notification plugin is available in both JavaScript and Rust.

### Send Notification

{/* TODO */}
<Stub />

### Actions

{/* TODO: */}

<Stub />

### Attachments

{/* TODO: */}

<Stub />

### Channels

{/* TODO: */}

<Stub />

## Security Considerations

Aside from normal sanitization procedures of user input there are currently no known security considerations.
