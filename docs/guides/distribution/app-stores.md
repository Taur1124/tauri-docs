# Publishing Tauri Applications to App Stores

In this guide, we will cover the process of publishing Tauri applications on various app stores, including Snapstore (Linux), Flathub (Linux), Chocolatey (Windows), and AppImage (Linux). Please note that the macOS platform is not covered due to the unavailability of a testing device.

## Snapstore

**Note**: This process requires a Linux operating system, and WSL may not be suitable depending on the application type.

### Method 1: Utilizing an External npm Library

1. Begin by creating a `.snap` package for your application using the [tauri-snap-packager](https://www.npmjs.com/package/tauri-snap-packager) npm package.
2. Install the package: `npm install --save-dev tauri-snap-packager`
3. Update your `package.json` file to include the tauri-snap command.
   ```json
   "scripts": {
       "dev": "next dev -p 1420",
       "build": "next build && next export -o dist",
       "tauri": "tauri",
       "lint": "next lint",
       "tauri-snap": "tauri-snap-packager"
   },
   ```
4. Run the `tauri-snap` command to generate a `.snap` file in your target folder, following any on-screen instructions.
5. In case of errors, rerun the command with the `--trace-warnings` flag for detailed feedback.
6. If issues persist, consider Method 2 as an alternative.
7. Upon successful creation of the `.snap` file, refer to the [Snapcraft guide](https://snapcraft.io/first-snap/c/linux/upload) for uploading and publishing it to the store.
8. Customize logos, banners, descriptions, etc., on the [Snapcraft website](https://snapcraft.io/). Refer to the [release management guide](https://snapcraft.io/docs/release-management) for additional details.

### Method 2: Starting from Scratch

If the automatic tool is unsuitable, manually create a `snapcraft.yaml` file.
- Install `snapcraft` and `snapd` for your operating system. Refer to the [Snapcraft guide](https://snapcraft.io/snapcraft) for instructions.
- Create a `snapcraft.yaml` file and configure it according to your application's specifications.
- Execute the `snapcraft` command to generate the `.snap` file.
- Follow the [Snapcraft guide](https://snapcraft.io/first-snap/c/linux/upload) for uploading and publishing on the store.

## Flathub

**Note**: Flathub support is currently unavailable, as discussed in [this GitHub thread](https://github.com/tauri-apps/tauri/discussions/4426).

## Chocolatey

1. Install the Chocolatey CLI tool using the following PowerShell command:
   ```powershell
   Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))
   ```
2. Run `choco new (app-name)` to create a folder with essential files for modification.
3. Remove unnecessary files ending with `.ps1` in the tools subfolder.
4. Place the `.exe` or `.msi` file of your application in the tools folder.
5. Modify the `.nuspec` file with your application information and update the `LICENSE.txt`.
6. Generate a hash of your executable and include it in the `VERIFICATION.txt` file.
  ```txt
  Generated by `CertUtil -hashfile tauriapp.exe SHA256`:

  1268967539be0449126438887170c779aaea6fdbf4d835e529c77d4c56a7f75d
  ```
7. Obtain your Chocolatey API key from the [Chocolatey website](https://chocolatey.org/account) and execute the CLI commands provided.
8. Push your executable to Chocolatey using the following commands:
   ```powershell
   choco pack
   Get-ChildItem *.nupkg | ren -NewName tauriapp.nupkg
   choco push tauriapp.nupkg --source https://push.chocolatey.org
   Remove-Item tauriapp.nupkg
   ```
   Replace `tauriapp` with your application name.
9. Check the Chocolatey website for the status of your application review.

## AppImage

Submitting your AppImage to the AppImage catalog is a straightforward process:

1. Visit the [AppImage repository](https://github.com/AppImage/appimage.github.io#how-to-submit-appimages-to-the-catalog) and follow the instructions in their README.md file.
2. Click on the provided link and open a pull request with a file.
3. In the file, specify the URL to your GitHub repository or provide a link to the AppImage directly.
4. Submit the pull request.
5. Your AppImage will be validated and included in the [AppImage catalog](https://appimage.github.io/apps/).
6. To update the version, create a new release on your repository or update the PR with the new link.

<!-- 
Guides used:
- https://www.freecodecamp.org/news/build-a-cross-platform-app-with-next-and-tauri/
- https://dev.to/tgotwig/publish-a-simple-executable-from-rust-on-chocolatey-2pbl
- https://snapcraft.io/docs/how-snapcraft-builds
- https://docs.chocolatey.org/en-us/create/create-packages
- My own project which the config files are based on: https://github.com/Raspirus/Raspirus
 -->
