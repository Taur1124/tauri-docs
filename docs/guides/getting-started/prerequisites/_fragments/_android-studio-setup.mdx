import CodeBlock from '@theme/CodeBlock'

<p>
  To set up your{' '}
  {props.platform.charAt(0).toUpperCase() + props.platform.slice(1)} machine for
  Android development you need to download and install Android Studio from the{' '}
  <a href="https://developer.android.com/studio">official website</a>.
</p>

#### 1. Configure JDK

Android Studio includes a JDK so you do not need to download a separate one. Set the `JAVA_HOME` environment variable to the location of the JDK:

<CodeBlock language={props.platform === 'windows' ? 'powershell' : 'sh'}>
  {props.platform == 'linux' ? 'export JAVA_HOME=/opt/android-studio/jbr' : ''}
  {props.platform == 'macos'
    ? 'export JAVA_HOME="/Applications/Android Studio.app/Contents/jbr/Contents/Home"'
    : ''}
  {props.platform == 'windows'
    ? '[System.Environment]::SetEnvironmentVariable("JAVA_HOME", "C:\\Program Files\\Android\\Android Studio\\jbr", "User")'
    : ''}
</CodeBlock>

Note that on older Android Studio installations the `jbr` directory may still be called `jre`.

#### 2. Install the Android SDK and NDK

You can use the SDK Manager in Android Studio to install:

- Android SDK Platform
- Android SDK Platform-Tools
- NDK (Side by side)
- Android SDK Build-Tools
- Android SDK Command-line Tools

:::note
You may need to tick `Show Package Details` in the bottom right corner to be able to see some of these components.
:::

Now you need to set the `ANDROID_HOME` and `NDK_HOME` environment variables:

<CodeBlock language={props.platform === 'windows' ? 'powershell' : 'sh'}>
  {props.platform == 'linux'
    ? 'export ANDROID_HOME="$HOME/Android/Sdk"\nexport NDK_HOME="$ANDROID_HOME/ndk/25.0.8775105"'
    : ''}
  {props.platform == 'macos'
    ? 'export ANDROID_HOME="$HOME/Library/Android/sdk"\nexport NDK_HOME="$ANDROID_HOME/ndk/25.0.8775105"'
    : ''}
  {props.platform == 'windows'
    ? '[System.Environment]::SetEnvironmentVariable("ANDROID_HOME", "$env:LocalAppData\\Android\\Sdk", "User")\n[System.Environment]::SetEnvironmentVariable("NDK_HOME", "$env:LocalAppData\\Android\\Sdk\\ndk\\25.0.8775105", "User")'
    : ''}
</CodeBlock>

Note that the path might be slightly different based on the version of NDK you installed.
