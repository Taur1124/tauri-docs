---
description: Build a Tauri app using Next.js as the frontend build tool
pagination_next: guides/architecture/README
sidebar_custom_props:
  doc_card_image: /img/guides/getting-started/setup/nextjs.png
---

import TauriInit from './_fragments/_tauri-init.mdx'
import Commands from './_fragments/_commands.mdx'
import Intro from './_fragments/_intro.mdx'
import AppCode from './_fragments/_app-code.mdx'
import FNCode from './_fragments/_final-next-code.mdx'
import NextInvoke from './_fragments/_nextjs-invoke.mdx'
import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'
import Command from '@theme/Command'

# Next.js

This guide will walk you through creating your first Tauri app using the React Framework - [Next.js][nextjs].

<Intro />

## Preview

Here's a preview of what we will be building:

![Application Preview](/img/guides/getting-started/setup/previews/nextjs-light.png#gh-light-mode-only)
![Application Preview](/img/guides/getting-started/setup/previews/nextjs-dark.png#gh-dark-mode-only)

## Create the Frontend

[Next.js][nextjs] is a React framework that gives you the building blocks to create web applications. By framework, we mean Next.js handles the tooling and configuration needed for React and provides additional structure, features, and optimizations for your application. To make NextJS work with Tauri, we are going to use the SSG mode since it generates only static files that can be included in the final binary.

### Creating Next.js App

Next.js comes with a scaffolding utility similar to `create-tauri-app` that can quickly setup a new project from a number of [pre-defined templates](https://github.com/vercel/next.js/tree/canary/examples). You can choose from many templates like with-cms, with-tailwindcss and many many more. For this guide, we will select the `with-typescript` template to create a simple typescript project.

<Tabs groupId="package-manager">
  <TabItem value="npm" label="Npm" default>

```shell
npx create-next-app@latest --ts
```

  </TabItem>
  <TabItem value="yarn" label="Yarn">

```shell
yarn create next-app --typescript
```

  </TabItem>
  <TabItem value="pnpm" label="Pnpm">

```shell
pnpm create next-app --ts
```

  </TabItem>
</Tabs>

Running the create command will ask you for the **Project name**.

- This will be the name of your JavaScript project. Corresponds to the name of the folder this utility will create but has otherwise no effect on your app. You can use any name you want here.

When starting the frontend via the next-app command, NextJS will look for a config file named next.config.js inside the project root. We want to customize this file to get the best compatibility with Tauri. If you are not using the scaffolding above and trying a custom setup, you may need to create the `next.config.js` in the root directory of your project.

Update the file with the following content:

```typescript title=next.config.js
/** @type {import('next').NextConfig} */

const nextConfig = {
  reactStrictMode: true,
  swcMinify: true,
  // Note: This experimental feature is required to use NextJS Image in SSG mode.
  // You can see other workaround https://nextjs.org/docs/messages/export-image-api
  experimental: {
    images: {
      unoptimized: true,
    },
  },
}

module.exports = nextConfig
```

### Updating scripts

Using the `dev` script will open the development website on any available server. So, to make it permanent, modify the `dev` script at `package.json` in the root of the project:

```json
"scripts": {
  // highlight-next-line
  "dev": "next dev -p 2005",
  "build": "next build",
  "start": "next start",
  "lint": "next lint"
},
```

Your app will now run on https://localhost:2005 every time you run the `dev` or `tauri dev` script.

When using the `build` command, it does not generate a static site automatically. Next.js provides us a way to generate a static HTML/Javascript website. Update the `build` script in the `package.json` at the root of your project:

```json
// ...
"scripts": {
  "dev": "next dev -p 2005",
  // highlight-next-line
  "build": "next build && next export -o dist",
  "start": "next start",
  "lint": "next lint"
},
// ...
```

The downside of creating a static site will be that you will not be able to use any type of data fetching like `getServerSideProps`.

:::info

You can still use `getStaticProps` to generate HTML/JavaScript pages at build time. Since it is executed in nodejs context, calling the tauri api will not work. You can learn more about NextJS SSG from the [official documentation](https://nextjs.org/docs/basic-features/pages#static-generation-recommended)

:::

### Editing the home page

We will also modify the home page like this:

<AppCode />

## Create the Rust Project

<TauriInit destDirValue="../dist" devPathValue="http://localhost:2005" />

Now that we have scaffolded our Frontend and initialized the Rust project, you're almost ready to run your Tauri app.
But before you do, let's quickly configure Tauri so it **automatically** start's the nextjs development server when you run `tauri dev` and automatically runs the build script when you run `tauri build`:

```json title=src-tauri/tauri.conf.json
{
  "build": {
    // highlight-start
    // this command will execute when you run `tauri build`
    "beforeBuildCommand": "npm run build",
    // this command will execute when you run `tauri dev`
    "beforeDevCommand": "npm run dev",
    // highlight-end
    "devPath": "http://localhost:5173",
    "distDir": "../dist"
  },
```

And that's it! Now you can run the following command in your terminal to start a development build of your app:

<Command name="dev" />

![Application Window](/img/guides/getting-started/setup/previews/nextjs-light-dev.png#gh-light-mode-only)
![Application Window](/img/guides/getting-started/setup/previews/nextjs-dark-dev.png#gh-dark-mode-only)

## Invoke Commands

<Commands />

To call our newly created command, we will use the [`@tauri-apps/api`] JavaScript library. It provides access to core functionality such as windows, the filesystem, and more through convenient JavaScript abstractions. You can install it using your favourite JavaScript package manager:

<Tabs groupId="package-manager">
  <TabItem value="npm" label="npm" default>

```shell
npm install @tauri-apps/api
```

  </TabItem>
  <TabItem value="yarn" label="Yarn">

```shell
yarn add @tauri-apps/api
```

  </TabItem>
  <TabItem value="pnpm" label="pnpm">

```shell
pnpm add @tauri-apps/api
```

  </TabItem>
</Tabs>

With the library installed, you can modify your `pages/index.tsx` file to call the command:

<NextInvoke />


## Final App Code

These are the files you will have to customize to make Tauri work with NextJS.

:::info

Files from `pnpm create next-app` and `pnpm tauri init` are not included.

:::

<FNCode />

:::tip

If you want to know more about the communication between Rust and JavaScript, please read the Tauri [Inter-Process Communication][inter-process-communication] guide.

:::

[nextjs]: https://nextjs.org
[cargo]: https://doc.rust-lang.org/cargo/
[typescript]: https://www.typescriptlang.org
[prerequisites]: ../prerequisites.md
[awesome-vite]: https://github.com/vitejs/awesome-vite#plugins
[`@tauri-apps/api`]: ../../../api/js/
[inter-process-communication]: ../../architecture/inter-process-communication/README.md
